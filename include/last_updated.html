<div aria-label="サイト最終更新日">>&thinsp;updated: <time id="lastupdate" aria-live="polite">---</time></div>

<script>
  (function() {
    var x = new XMLHttpRequest();
    x.onreadystatechange = function() {
      var t = document.getElementById("lastupdate");
      if (this.readyState == 4) {
        if (this.status == 200) {
          try {
            var d = (this.responseXML || new DOMParser().parseFromString(this.responseText, "text/xml")).querySelector("lastBuildDate");
            if (d && d.textContent) {
              var r = new Date(d.textContent.trim()),
                  j = new Date(r.getTime() + 32400000);
              var formatted = j.getUTCFullYear() + '/' + 
                              (j.getUTCMonth() + 1).toString().padStart(2, '0') + '/' + 
                              j.getUTCDate().toString().padStart(2, '0') + ' ' + 
                              j.getUTCHours().toString().padStart(2, '0') + ':' + 
                              j.getUTCMinutes().toString().padStart(2, '0') + ':' + 
                              j.getUTCSeconds().toString().padStart(2, '0');
              t.innerHTML = formatted;
              t.setAttribute("datetime", r.toISOString());
              var iso8601 = j.getUTCFullYear() + '-' + 
                           (j.getUTCMonth() + 1).toString().padStart(2, '0') + '-' + 
                           j.getUTCDate().toString().padStart(2, '0') + 'T' + 
                           j.getUTCHours().toString().padStart(2, '0') + ':' + 
                           j.getUTCMinutes().toString().padStart(2, '0') + ':' + 
                           j.getUTCSeconds().toString().padStart(2, '0') + '.000+09:00';
              t.setAttribute("title", formatted + " JST (日本標準時) | " + iso8601);
            } else t.innerHTML = '---';
          } catch (e) {
            console.error('RSS解析エラー:', e);
            t.innerHTML = '---';
          }
        } else {
          console.error('RSS取得エラー (HTTP', this.status + ')');
          t.innerHTML = '---';
        }
      }
    };
    x.open("GET", "./rss.xml?t=" + Date.now(), true);
    x.send();
  })()
</script>
