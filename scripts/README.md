# 月別雑記ページ生成スクリプト

## 概要

日別の雑記HTMLファイルを読み込んで、月別の統合ページを自動生成するスクリプトです。
省略処理なしで記事全文を含む月別HTMLを出力します。

## 必要な環境

- Python 3.6以上
- BeautifulSoup4ライブラリ

## インストール

```bash
pip install beautifulsoup4
```

## 使い方

### 基本的な使い方

```bash
python build_month.py <年> <月> <日別HTMLが入っているディレクトリ>
```

### 実行例

```bash
# 2025年12月のページを生成
python build_month.py 2025 12 /txt/zakki/2025/12/days

# 相対パスでも可
python build_month.py 2025 12 ./txt/zakki/2025/12/days
```

### 出力

- 入力: `txt/zakki/2025/12/days/` 内の全HTMLファイル
- 出力: `txt/zakki/2025/12/2025-12.html`（日別HTMLの親ディレクトリに生成）

## 処理の流れ

1. 指定されたディレクトリ内の全HTMLファイルを検索
2. 各ファイルから`<article>`要素を抽出
3. 抽出した記事を日付順に並べて月別HTMLテンプレートに埋め込み
4. ファイルに書き出し

## 出力されるHTML

- 既存の月別HTMLと同じ構造
- JavaScriptによる非同期読み込みは不要
- ページを開いた瞬間に全記事が表示される
- ナビゲーション（前後月へのリンク）も自動生成

## 注意事項

### 既存ファイルの上書き

このスクリプトは既存の月別HTMLファイルを上書きします。
バックアップを取ってから実行することをお勧めします。

### 前提条件

- 日別HTMLファイルに`<article>`要素が含まれている必要があります
- ファイル名は日付順にソートされる想定です（例: `2025-12-06.html`, `2025-12-08.html`）

## カスタマイズ

必要に応じて以下の部分を編集できます：

- `month_html`変数: 月別HTMLのテンプレート
- ナビゲーションリンクの生成ロジック
- CSSやJavaScriptの読み込みパス

## トラブルシューティング

### `No HTML files found`と表示される

→ 指定したディレクトリパスが正しいか確認してください

### `No <article> found`という警告が出る

→ 該当の日別HTMLに`<article>`要素が含まれていません。HTMLの構造を確認してください

### 文字化けする

→ HTMLファイルがUTF-8エンコーディングで保存されているか確認してください

## 今後の拡張予定

- 省略処理機能の追加
- 年別ページの生成
- 複数月の一括処理
- 設定ファイルによるカスタマイズ